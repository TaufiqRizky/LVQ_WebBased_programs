function trainAI(){var bobot;var epochType,bEpoch;for(var epohKe=1;epohKe<=maxEpoh;epohKe++){$('.LearningOut').append("<b>Epoh-Ke : "+epohKe+"</b><br>");$('.iterasi').append("<b>Epoh-Ke : "+epohKe+"</b>");$('.iterasi').append("<br>");$('.iterasi').append("dengan a = "+a);$('.iterasi').append("<br>");$('.iterasi').append("<br>");for(var i=0;i<x.length;i++){b1=Math.sqrt(Math.pow(x[i][0]-w[0][0],2)+Math.pow(x[i][1]-w[0][1],2)+Math.pow(x[i][2]-w[0][2],2)+Math.pow(x[i][3]-w[0][3],2));b2=Math.sqrt(Math.pow(x[i][0]-w[1][0],2)+Math.pow(x[i][1]-w[1][1],2)+Math.pow(x[i][2]-w[1][2],2)+Math.pow(x[i][3]-w[1][3],2));b3=Math.sqrt(Math.pow(x[i][0]-w[2][0],2)+Math.pow(x[i][1]-w[2][1],2)+Math.pow(x[i][2]-w[2][2],2)+Math.pow(x[i][3]-w[2][3],2));$('.iterasi').append(" Data Ke - "+(i+1)+" : ("+x[i][0]+", "+x[i][1]+", "+x[i][2]+", "+x[i][3]+")");$('.iterasi').append("<br>");$('.iterasi').append(" Bobot Ke - 1 = "+b1);$('.iterasi').append("<br>");$('.iterasi').append(" Bobot Ke - 2 = "+b2);$('.iterasi').append("<br>");$('.iterasi').append(" Bobot Ke - 3 = "+b3);$('.iterasi').append("<br>");bobot=Math.min(b1,b2,b3);if(bobot==b1){$('.iterasi').append(" Jarak Terkecil Pada <b>Bobot ke - 1 </b>");$('.iterasi').append("<br>");if(tx[i]==tw[0]){w[0][0]=w[0][0]+a*(x[i][0]-w[0][0]);w[0][1]=w[0][1]+a*(x[i][1]-w[0][1]);w[0][2]=w[0][2]+a*(x[i][2]-w[0][2]);w[0][3]=w[0][3]+a*(x[i][3]-w[0][3])}else{w[0][0]=w[0][0]-a*(x[i][0]-w[0][0]);w[0][1]=w[0][1]-a*(x[i][1]-w[0][1]);w[0][2]=w[0][2]-a*(x[i][2]-w[0][2]);w[0][3]=w[0][3]-a*(x[i][3]-w[0][3])}}else if(bobot==b2){$('.iterasi').append(" Jarak Terkecil Pada <b>Bobot ke - 2 </b>");$('.iterasi').append("<br>");if(tx[i]==tw[1]){w[1][0]=w[1][0]+a*(x[i][0]-w[1][0]);w[1][1]=w[1][1]+a*(x[i][1]-w[1][1]);w[1][2]=w[1][2]+a*(x[i][2]-w[1][2]);w[1][3]=w[1][3]+a*(x[i][3]-w[1][3])}else{w[1][0]=w[1][0]-a*(x[i][0]-w[1][0]);w[1][1]=w[1][1]-a*(x[i][1]-w[1][1]);w[1][2]=w[1][2]-a*(x[i][2]-w[1][2]);w[1][3]=w[1][3]-a*(x[i][3]-w[1][3])}}else if(bobot==b3){$('.iterasi').append(" Jarak Terkecil Pada <b>Bobot ke - 3 </b> ");$('.iterasi').append("<br>");if(tx[i]==tw[2]){w[2][0]=w[2][0]+a*(x[i][0]-w[2][0]);w[2][1]=w[2][1]+a*(x[i][1]-w[2][1]);w[2][2]=w[2][2]+a*(x[i][2]-w[2][2]);w[2][3]=w[2][3]+a*(x[i][3]-w[2][3])}else{w[2][0]=w[2][0]-a*(x[i][0]-w[2][0]);w[2][1]=w[2][1]-a*(x[i][1]-w[2][1]);w[2][2]=w[2][2]-a*(x[i][2]-w[2][2]);w[2][3]=w[2][3]-a*(x[i][3]-w[2][3])}}else{alert('Code bobot error')}
$('.iterasi').append(" Target Data Ke - "+(i+1)+" : <b>"+tx[i]+"</b><br>");$('.iterasi').append(" Sehingga didapat bobot baru seperti berikut : ");$('.iterasi').append("<br>");$('.iterasi').append(" W1 =  ("+w[0][0]+" , "+w[0][1]+" , "+w[0][2]+" , "+w[0][3]+")");$('.iterasi').append("<br>");$('.iterasi').append(" W2 =  ("+w[1][0]+" , "+w[1][1]+" , "+w[1][2]+" , "+w[1][3]+")");$('.iterasi').append("<br>");$('.iterasi').append(" W3 =  ("+w[2][0]+" , "+w[2][1]+" , "+w[2][2]+" , "+w[2][3]+")");$('.iterasi').append("<br>");$('.iterasi').append("<br>")}
$('.LearningOut').append(" W1 =  ("+round(w[0][0],fKoma)+" , "+round(w[0][1],fKoma)+" , "+round(w[0][2],fKoma)+" , "+round(w[0][3],fKoma)+")");$('.LearningOut').append("<br>");$('.LearningOut').append(" W2 =  ("+round(w[1][0],fKoma)+" , "+round(w[1][1],fKoma)+" , "+round(w[1][2],fKoma)+" , "+round(w[1][3],fKoma)+")");$('.LearningOut').append("<br>");$('.LearningOut').append(" W3 =  ("+round(w[2][0],fKoma)+" , "+round(w[2][1],fKoma)+" , "+round(w[2][2],fKoma)+" , "+round(w[2][3],fKoma)+")");$('.LearningOut').append("<br>");$('.LearningOut').append("<hr>");a=0.1*a;$('.iterasi').append("<br>");$('.iterasi').append("<hr>");$('.iterasi').append("<br>")}
$('.hsl1').append(ujiVektor(4,15,4,6)).hide().fadeIn(1000);$('.hsl2').append(ujiVektor(3,28,4,10)).hide().fadeIn(1000);$('.hsl3').append(ujiVektor(2,12,1,3)).hide().fadeIn(1000);$('.hsl4').append(ujiVektor(2,10,3,10)).hide().fadeIn(1000);$('.hsl5').append(ujiVektor(6,24,4,9)).hide().fadeIn(1000);$('body').loadingModal('hide');$('body').loadingModal('destroy')}
function ujiVektor(v1,v2,v3,v4){v1=(v1-0)/(7-0);v2=(v2-1)/(30-1);v3=(v3-1)/(5-1);v4=(v4-1)/(10-1);b1=Math.sqrt(Math.pow(v1-w[0][0],2)+Math.pow(v2-w[0][1],2)+Math.pow(v3-w[0][2],2)+Math.pow(v4-w[0][3],2));b2=Math.sqrt(Math.pow(v1-w[1][0],2)+Math.pow(v2-w[1][1],2)+Math.pow(v3-w[1][2],2)+Math.pow(v4-w[1][3],2));b3=Math.sqrt(Math.pow(v1-w[2][0],2)+Math.pow(v2-w[2][1],2)+Math.pow(v3-w[2][2],2)+Math.pow(v4-w[2][3],2));bobot=Math.min(b1,b2,b3);if(bobot==b1){return"<p class='text-warning'>"+tw[0]+"</p>"}else if(bobot==b2){return"<p class='text-danger'>"+tw[1]+"</p>"}else if(bobot==b3){return"<p class='text-success'>"+tw[2]+"</p>"}else{alert("error di uji vektor")}
console.log("b1 "+b1+"<br>b2 "+b2+"<br>b3 "+b3)}
$(".btnSub").click(function(){rowTable=rowTable+1;var nmUKM,lmUsaha,jmlPk,omz,jmlAset;nmUKM=$("#nmUKM").val();lmUsaha=$("#lmUsaha").val();jmlPk=$("#jmlPk").val();omz=$("#omz").val();jmlAset=$("#jmlAset").val();console.log(nmUKM+" "+lmUsaha+" "+jmlPk+" "+omz+" "+jmlAset+" ");$(".tBodyHsl").append("<tr>"+"<td>"+nmUKM+"</td>"+"<td>"+lmUsaha+"</td>"+"<td>"+jmlPk+"</td>"+"<td>"+omz+"</td>"+"<td>"+jmlAset+"</td>"+"<td class= hsl"+rowTable+">"+ujiVektor(lmUsaha,jmlPk,omz,jmlAset)+"</td>"+"</tr>")});function round(value,exp){if(typeof exp==='undefined'||+exp===0)
return Math.round(value);value=+value;exp=+exp;if(isNaN(value)||!(typeof exp==='number'&&exp%1===0))
return NaN;value=value.toString().split('e');value=Math.round(+(value[0]+'e'+(value[1]?(+value[1]+exp):exp)));value=value.toString().split('e');return+(value[0]+'e'+(value[1]?(+value[1]-exp):-exp))}